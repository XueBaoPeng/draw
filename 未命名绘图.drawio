<mxfile host="app.diagrams.net" modified="2020-11-22T14:20:33.870Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3776.400 QQBrowser/10.6.4212.400" etag="BKdYSWa2gwgyCcmqEE4Y" version="13.6.2" type="github">
  <diagram id="2N0sheNlyW3y-NobzQPK" name="第 1 页">
    <mxGraphModel dx="998" dy="556" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-1" target="1ufMS89c5Ee1v1FOWZT0-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-1" value="&lt;font style=&quot;font-size: 18px&quot;&gt;扫盲&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-3" target="1ufMS89c5Ee1v1FOWZT0-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-3" value="什么是锁" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-4" target="1ufMS89c5Ee1v1FOWZT0-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-4" value="分布式锁&lt;br&gt;JVM锁&lt;br&gt;区别" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="460" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-5" target="1ufMS89c5Ee1v1FOWZT0-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-5" value="mysql&lt;br&gt;redis&lt;br&gt;zk&lt;br&gt;etcd" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="650" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-9" value="轻量级的分布式锁" style="whiteSpace=wrap;html=1;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="850" y="100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-11" value="锁是什么" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="60" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-12" target="1ufMS89c5Ee1v1FOWZT0-19">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-39" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-12" target="1ufMS89c5Ee1v1FOWZT0-38">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="300" y="440" />
              <mxPoint x="950" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-40" value="抢到了这把锁" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="1ufMS89c5Ee1v1FOWZT0-39">
          <mxGeometry x="0.2711" y="-3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-12" value="线程" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="240" y="260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-42" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-13" target="1ufMS89c5Ee1v1FOWZT0-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="300" y="340" />
              <mxPoint x="480" y="340" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-13" value="线程" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="400" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-15" value="堆" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="290" width="240" height="110" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-35" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-16" target="1ufMS89c5Ee1v1FOWZT0-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-16" value="线程" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="520" width="130" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-36" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.593;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-17" target="1ufMS89c5Ee1v1FOWZT0-32">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-17" value="线程" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="660" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-18" value="堆" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="510" y="550" width="235" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-23" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=none;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-19" target="1ufMS89c5Ee1v1FOWZT0-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-24" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-19" target="1ufMS89c5Ee1v1FOWZT0-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="800" y="240" />
              <mxPoint x="800" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-19" value="对象头&lt;br&gt;第三方" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="230" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-20" value="mysql&lt;br&gt;redis" style="ellipse;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="860" y="310" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-31" value="高并发" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="60" y="354" width="120" height="396" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-37" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-32" target="1ufMS89c5Ee1v1FOWZT0-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-32" value="对象头&lt;br&gt;第三方" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="500" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-51" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-38" target="1ufMS89c5Ee1v1FOWZT0-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-38" value="obj&amp;nbsp;&lt;br&gt;&lt;br&gt;data" style="ellipse;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="890" y="520" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-41" value="分布式肯定要比单机慢" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="30" y="354" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-43" value="在有分布式的情况下&lt;br&gt;能保证多机，多线程，多进程访问资源的一致性&lt;br&gt;这个时候还需要进程内部的jvm锁吗？&lt;br&gt;一定需要的！" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="450" width="300" height="70" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-44" value="一把锁&lt;br&gt;性能有提高吗？&lt;br&gt;用锁，串行化处理" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1060" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-45" value="多把锁&lt;br&gt;会有并行提升&lt;br&gt;在多机的情况下" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1080" y="590" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-50" value="服务无状态" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="890" y="660" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-52" value="中间件有&lt;br&gt;IO吞吐&lt;br&gt;有效操作&lt;br&gt;性能" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="830" y="210" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-63" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-53" target="1ufMS89c5Ee1v1FOWZT0-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-66" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-53" target="1ufMS89c5Ee1v1FOWZT0-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-53" value="俩大类分布式锁" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="820" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-58" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-57" target="1ufMS89c5Ee1v1FOWZT0-59">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="640" y="880" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-57" value="jvm锁&lt;br&gt;cas ,自旋-》系统调用" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="530" y="730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-61" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="1ufMS89c5Ee1v1FOWZT0-59" target="1ufMS89c5Ee1v1FOWZT0-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-59" value="系统调用，后果" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="1">
          <mxGeometry x="660" y="830" width="80" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-60" value="线程还运行吗？让出cpu,自己阻塞&lt;br&gt;线程的状态？&lt;br&gt;后续如何运行？自己写醒，还是被唤醒？运行等待内核调度，调度你就可以执行了" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="1">
          <mxGeometry x="820" y="830" width="240" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-62" value="&lt;span&gt;类cas自选式的分布式询问的方式，尝试加锁&lt;/span&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="1">
          <mxGeometry x="280" y="740" width="230" height="100" as="geometry" />
        </mxCell>
        <mxCell id="1ufMS89c5Ee1v1FOWZT0-64" value="event事件通知后续锁的变化&lt;br&gt;轮询向外的过程" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;" vertex="1" parent="1">
          <mxGeometry x="255" y="900" width="225" height="100" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
